
== Migrate from Disconnected to Connected OpenShift Deployment

=== Update Image Registry Location 

The location of the image registry holding the images is defined within an OpenShift cluster by utilizing one or more Custom Resource Definitions (CRDs), which vary depending on the specific version of OpenShift being used.

These CRDs must be deleted, or updated if there are any specific customization done to remove any references to mirror registry.

==== ImageContentSourcePolicy (ICSP) (Deprecated since 4.14)

==== ImageDigestMirrorSet (IDMS)

==== ImageTagMirrorSet (ITMS)

=== Update Pull Secret 

. Update global pullsecret
----
oc get secret/pull-secret -n openshift-config --template='{{index .data ".dockerconfigjson" | base64decode}}' >global_pullsecret.json
oc registry login --registry="<registry>" --auth-basic="<username>:<password>" --to=global_pullsecret.json
oc set data secret/pull-secret -n openshift-config --from-file=.dockerconfigjson=global_pullsecret.json
----






